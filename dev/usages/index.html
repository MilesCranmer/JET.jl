<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Usages · JET.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">JET.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">README</a></li><li class="is-active"><a class="tocitem" href>Usages</a><ul class="internal"><li><a class="tocitem" href="#entry-points"><span>Entry Points into Analysis</span></a></li><li><a class="tocitem" href="#interactive-entries"><span>Testing, Interactive Usage</span></a></li></ul></li><li><a class="tocitem" href="../config/">Configurations</a></li><li><a class="tocitem" href="../internals/">Internals</a></li><li><span class="tocitem">Pluggable Analysis Framework</span><ul><li><a class="tocitem" href="../generated-plugin-api/">API</a></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../generated-plugin-examples/dispatch_analysis/">Dispatch Analysis</a></li><li><a class="tocitem" href="../generated-plugin-examples/find_unstable_api/">&quot;Unstable API&quot; Analysis</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Usages</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Usages</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/aviatesk/JET.jl/blob/master/docs/src/usages.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Usages"><a class="docs-heading-anchor" href="#Usages">How to Use JET.jl</a><a id="Usages-1"></a><a class="docs-heading-anchor-permalink" href="#Usages" title="Permalink"></a></h1><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>JET&#39;s analysis entry points follow the naming conventions below:</p><ul><li><code>report_xxx</code>: runs analysis, and then prints the collected error points</li><li><code>analyze_xxx</code>: just runs analysis, and returns the final state of the analysis</li></ul><p>The <code>report_xxx</code> entries are for general users, while <code>analyze_xxx</code> is mainly for internal usages or debugging purposes.</p></div></div><h2 id="entry-points"><a class="docs-heading-anchor" href="#entry-points">Entry Points into Analysis</a><a id="entry-points-1"></a><a class="docs-heading-anchor-permalink" href="#entry-points" title="Permalink"></a></h2><p>JET can analyze your &quot;top-level&quot; code. This means you can just give your Julia file or code to JET and get error reports. <a href="#JET.report_file"><code>report_file</code></a>, <a href="#JET.report_and_watch_file"><code>report_and_watch_file</code></a>, <a href="#JET.report_package"><code>report_package</code></a> and <a href="#JET.report_text"><code>report_text</code></a> are the main entry points for that.</p><p>JET will analyze your code &quot;half-statically&quot; – JET will selectively interpret &quot;top-level definitions&quot; (like a function definition) and try to simulate Julia&#39;s top-level code execution, while it tries to avoid executing any other parts of code like function calls but analyzes them by <a href="https://en.wikipedia.org/wiki/Abstract_interpretation">abstract interpretation</a> instead (and this is a part where JET statically analyzes your code). If you&#39;re interested in how JET selects &quot;top-level definitions&quot;, please see <a href="../internals/#JET.virtual_process"><code>JET.virtual_process</code></a>.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Because JET will actually interpret &quot;top-level definitions&quot; in your code, it certainly <em>runs</em> your code. So we should note that JET can cause some side effects from your code; for example JET will try to expand all the macros used in your code, and so the side effects involved with macro expansions will also happen in JET&#39;s analysis process.</p></div></div><article class="docstring"><header><a class="docstring-binding" id="JET.report_file" href="#JET.report_file"><code>JET.report_file</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">report_file([io::IO = stdout],
            filename::AbstractString;
            jetconfigs...) -&gt; res::ReportResult</code></pre><p>Analyzes <code>filename</code>, prints the collected error reports to the <code>io</code> stream, and finally returns <code>res::ReportResult</code></p><ul><li><code>res.included_files::Set{String}</code>: files analyzed by JET</li><li><code>res.any_reported::Bool</code>: indicates if there was any error point reported</li></ul><p>This function will look for <code>.JET.toml</code> configuration file in the directory of <code>filename</code>,   and search <em>up</em> the file tree until any <code>.JET.toml</code> is (or isn&#39;t) found. When found, the configurations specified in the file will be applied. See <a href="../config/#Configuration-File">Configuration File</a> for more details.</p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>When you want to analyze your package, but any file actually using it isn&#39;t available, the   <code>analyze_from_definitions</code> option can be useful (see <a href="../config/#JET.ToplevelConfig"><code>ToplevelConfig</code></a>&#39;s <code>analyze_from_definitions</code> option). <br/>For example, JET can analyze JET itself like below:</p><pre><code class="language-julia"># from the root directory of JET.jl
julia&gt; report_file(&quot;src/JET&quot;;
                   analyze_from_definitions = true)</code></pre><p>See also: <a href="#JET.report_package"><code>report_package</code></a></p></div></div><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>This function will enable the <code>toplevel_logger</code> configuration by default with the default logging level. You can still explicitly specify and configure it:</p><pre><code class="language-julia">report_file(args...;
            toplevel_logger = nothing, # suppress toplevel logger
            jetconfigs...) # other configurations</code></pre><p>See <a href="../config/#Logging-Configurations">Logging Configurations</a> for more details.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/66e3710852068ee41955880b18ffcb7a21ccad0c/src/JET.jl#L533-L566">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.report_and_watch_file" href="#JET.report_and_watch_file"><code>JET.report_and_watch_file</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">report_and_watch_file([io::IO = stdout],
                      filename::AbstractString;
                      jetconfigs...)</code></pre><p>Watches <code>filename</code> and keeps re-triggering analysis with <a href="#JET.report_file"><code>report_file</code></a> on code update. JET will try to analyze all the <code>include</code>d files reachable from <code>filename</code>, and it will   re-trigger analysis if there is code update detected in any of the <code>include</code>d files.</p><p>This function internally uses <a href="https://timholy.github.io/Revise.jl/stable/">Revise.jl</a> to   track code updates. Revise also offers possibilities to track changes in files that are   not directly analyzed by JET, or even changes in <code>Base</code> files. See <a href="../config/#Watch-Configurations">Watch Configurations</a>   for more details.</p><p>See also: <a href="#JET.report_file"><code>report_file</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/66e3710852068ee41955880b18ffcb7a21ccad0c/src/watch.jl#L41-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.report_package" href="#JET.report_package"><code>JET.report_package</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">report_package([io::IO = stdout],
               package::Union{AbstractString,Module};
               jetconfigs...) -&gt; res::ReportResult</code></pre><p>Analyzes <code>package</code> in the same way as <a href="#JET.report_file"><code>report_file</code></a> with the default configurations,   which are especially tuned for package analysis (see below for details). <code>package</code> can be either a module or a string. In the latter case it must be the name of a   package in your current environment.</p><p>This function configures analysis with the following configurations:</p><ul><li><code>analyze_from_definitions = true</code>: allows JET to enter analysis without top-level call sites; this is useful for package analysis since a package itself usually has only definitions but not usages (i.e. call sites)</li><li><code>concretization_patterns = [:(x_ = y_), :(const x_ = y_)]</code>: concretize every global variable instantiations; concretizations are generally preferred for successful analysis as far as they&#39;re cheap, and global variable instantiations that occur in a package definition are <em>usually</em> very cheap</li></ul><p>See <a href="../config/#JET.ToplevelConfig"><code>ToplevelConfig</code></a> for more details.</p><hr/><pre><code class="language-none">report_package([io::IO = stdout];
               jetconfigs...) -&gt; res::ReportResult</code></pre><p>Like above but analyzes the package in the current project.</p><p>See also: <a href="#JET.report_file"><code>report_file</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/66e3710852068ee41955880b18ffcb7a21ccad0c/src/JET.jl#L688-L715">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.report_text" href="#JET.report_text"><code>JET.report_text</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">report_text([io::IO = stdout],
            text::AbstractString,
            filename::AbstractString = &quot;top-level&quot;;
            jetconfigs...) -&gt; res::ReportResult</code></pre><p>Analyzes <code>text</code>, prints the collected error reports to the <code>io</code> stream, and finally returns <code>res::ReportResult</code></p><ul><li><code>res.included_files::Set{String}</code>: files analyzed by JET</li><li><code>res.any_reported::Bool</code>: indicates if there was any error point reported</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/66e3710852068ee41955880b18ffcb7a21ccad0c/src/JET.jl#L744-L751">source</a></section></article><h2 id="interactive-entries"><a class="docs-heading-anchor" href="#interactive-entries">Testing, Interactive Usage</a><a id="interactive-entries-1"></a><a class="docs-heading-anchor-permalink" href="#interactive-entries" title="Permalink"></a></h2><p>There are utilities for checking JET analysis in a running Julia session like REPL or such.</p><article class="docstring"><header><a class="docstring-binding" id="JET.report_call" href="#JET.report_call"><code>JET.report_call</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">report_call(f, types = Tuple{}; jetconfigs...) -&gt; result_type::Any</code></pre><p>Analyzes the generic function call with the given type signature, and then prints collected   error points to <code>stdout</code>, and finally returns the result type of the call.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/66e3710852068ee41955880b18ffcb7a21ccad0c/src/JET.jl#L978-L983">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.@report_call" href="#JET.@report_call"><code>JET.@report_call</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia">@report_call [jetconfigs...] f(args...)</code></pre><p>Evaluates the arguments to the function call, determines its types, and then calls   <a href="#JET.report_call"><code>report_call</code></a> on the resulting expression. As with <code>@code_typed</code> and its family, any of <a href="../config/#JET-configurations">JET configurations</a> can be given as the optional   arguments like this:</p><pre><code class="language-julia"># reports `rand(::Type{Bool})` with `aggressive_constant_propagation` configuration turned off
julia&gt; @report_call aggressive_constant_propagation=false rand(Bool)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/66e3710852068ee41955880b18ffcb7a21ccad0c/src/JET.jl#L962-L973">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.analyze_call" href="#JET.analyze_call"><code>JET.analyze_call</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">analyze_call(f, types = Tuple{}; jetconfigs...) -&gt; (analyzer::AbstractAnalyzer, frame::Union{InferenceFrame,Nothing})</code></pre><p>Analyzes the generic function call with the given type signature, and returns:</p><ul><li><code>analyzer::AbstractAnalyzer</code>: contains analyzed error reports and such</li><li><code>frame::Union{InferenceFrame,Nothing}</code>: the final state of the abstract interpretation, or <code>nothing</code> if <code>f</code> is a generator and the code generation failed</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/66e3710852068ee41955880b18ffcb7a21ccad0c/src/JET.jl#L938-L945">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.@analyze_call" href="#JET.@analyze_call"><code>JET.@analyze_call</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia">@analyze_call [jetconfigs...] f(args...)</code></pre><p>Evaluates the arguments to the function call, determines its types, and then calls   <a href="#JET.analyze_call"><code>analyze_call</code></a> on the resulting expression. As with <code>@code_typed</code> and its family, any of <a href="../config/#JET-configurations">JET configurations</a> can be given as the optional   arguments like this:</p><pre><code class="language-julia"># analyzes `rand(::Type{Bool})` with `aggressive_constant_propagation` configuration turned off
julia&gt; @analyze_call aggressive_constant_propagation=false rand(Bool)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/66e3710852068ee41955880b18ffcb7a21ccad0c/src/JET.jl#L922-L933">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« README</a><a class="docs-footer-nextpage" href="../config/">Configurations »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 10 June 2021 18:51">Thursday 10 June 2021</span>. Using Julia version 1.8.0-DEV.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
